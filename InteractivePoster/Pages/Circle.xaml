<Page x:Class="InteractivePoster.Pages.Circle"
      xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
      xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
      xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" 
      xmlns:d="http://schemas.microsoft.com/expression/blend/2008" 
      xmlns:local="clr-namespace:InteractivePoster.Pages"
      mc:Ignorable="d" 
      d:DesignHeight="450" d:DesignWidth="800"
      Title="Circle" 
       >

    <Grid>
        <Grid.ColumnDefinitions>
            <ColumnDefinition Width="*"/>
            <ColumnDefinition Width="1*"/>
        </Grid.ColumnDefinitions>
        <StackPanel Grid.Column="1">

            <GroupBox Header="Масштаб области">
                <StackPanel>
                    <TextBox Margin="0,0,0,10" Text="{Binding ElementName=Area,Path=Value,Mode=TwoWay,UpdateSourceTrigger=PropertyChanged}"/>
                    <Slider x:Name="Area" SmallChange="2" LargeChange="2" Value="20" Minimum="2" Maximum="50"
                        PreviewMouseMove="Area_PreviewMouseMove" 
                        IsSnapToTickEnabled="True" TickFrequency="2"/>
                </StackPanel>
            </GroupBox>
            <GroupBox Header="Смещение по оси абсцисс">
                <StackPanel>
                    <TextBox Margin="0,0,0,10" Text="{Binding ElementName=slCoordX,Path=Value,Mode=TwoWay,UpdateSourceTrigger=PropertyChanged, StringFormat='{}{0:#0.0}'}"/>
                    <Slider x:Name="slCoordX" SmallChange="1" LargeChange="1" Value="0"
                        Minimum="{Binding MinValue}" Maximum="{Binding MaxValue}" 
                        PreviewMouseMove="Area_PreviewMouseMove"
                        IsSnapToTickEnabled="True" TickFrequency=".1"/>
                </StackPanel>
            </GroupBox>
            <GroupBox Header="Смещение по оси ординат">
                <StackPanel>
                    <TextBox Margin="0,0,0,10" Text="{Binding ElementName=slCoordY,Path=Value,Mode=TwoWay,UpdateSourceTrigger=PropertyChanged,StringFormat='{}{0:#0.0}'}"/>
                    <Slider x:Name="slCoordY" SmallChange="1" LargeChange="1" Value="0" 
                        Minimum="{Binding MinValue}" Maximum="{Binding MaxValue}" 
                        PreviewMouseMove="Area_PreviewMouseMove"
                        IsSnapToTickEnabled="True" TickFrequency=".1"/>
                </StackPanel>
            </GroupBox>
            <GroupBox Header="Радиус окружности">
                <StackPanel>
                    <TextBox Text="{Binding ElementName=slRadius,Path=Value,Mode=TwoWay,UpdateSourceTrigger=PropertyChanged,StringFormat='{}{0:#0.0}'}"/>
                    <Slider x:Name="slRadius" SmallChange="1" LargeChange="1" Value="1" 
                        Minimum="0" Maximum="{Binding maxRadius}" PreviewMouseMove="Area_PreviewMouseMove"
                        IsSnapToTickEnabled="True" TickFrequency=".1"/>
                </StackPanel>
            </GroupBox>
            <GroupBox Header="Точка M (в градусах)">
                <StackPanel>
                    <TextBox Text="{Binding ElementName=SlPoint,Path=Value,Mode=TwoWay,UpdateSourceTrigger=PropertyChanged}"/>
                    <Slider x:Name="SlPoint" SmallChange="1" LargeChange="1" Value="45" 
                        Minimum="0" Maximum="360" PreviewMouseMove="Area_PreviewMouseMove"
                        IsSnapToTickEnabled="True" TickFrequency="1"/>
                </StackPanel>
            </GroupBox>
            <StackPanel Orientation="Horizontal">
                <TextBlock Text="(x-("/>
                <TextBlock Text="{Binding ElementName=slCoordX,Path=Value,StringFormat='{}{0:#0.0}'}"/>
                <TextBlock Text=" ))&#x00B2;" />
                <TextBlock Text="+(y-("/>
                <TextBlock Text="{Binding ElementName=slCoordY,Path=Value,StringFormat='{}{0:#0.0}'}"/>
                <TextBlock Text=" ))&#x00B2;" />
                <TextBlock Text="="/>
                <TextBlock Text="{Binding ElementName=slRadius,Path=Value}"/>
                <TextBlock Text=" &#x00B2;" />
            </StackPanel>
        </StackPanel>
        <Canvas x:Name="Background" Grid.Column="0" SizeChanged="UpdateBackPattern"  Tag="{Binding ElementName=Area,Path=Value}"/>
        <!--к свойству Tag у канвы биндим значение слайдера с масштабом. Not magic, science-->
    
    
    
    </Grid>
</Page>
